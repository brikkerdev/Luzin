# Лабораторная работа 1: Сериализация JSON и работа с файлами в C#

## Цели работы
1. Освоить использование атрибутов JSON для управления процессом сериализации/десериализации
2. Изучить паттерн IDisposable для корректного освобождения ресурсов
3. Научиться работать с файловой системой (чтение/запись файлов)
4. Реализовать сохранение и загрузку объектов в/из файлов JSON
5. Понимать разницу между явным освобождением ресурсов через Dispose() и автоматическим через финализатор

## Задание 1: Класс Person с атрибутами JSON

### Класс Person
Класс содержит свойства с различными атрибутами JSON:
- `FirstName`, `LastName`, `Age` - обычные свойства
- `Password` - игнорируется в JSON (`[JsonIgnore]`)
- `Id` - сохраняется как "personId" (`[JsonPropertyName("personId")]`)
- `_birthDate` - приватное поле с доступом через свойство (`[JsonInclude]`)
- `Email` - свойство с валидацией email
- `PhoneNumber` - сохраняется как "phone" (`[JsonPropertyName("phone")]`)
- `FullName` - вычисляемое свойство (только для чтения)
- `IsAdult` - вычисляемое свойство (только для чтения)

### Особенности реализации
- Реализация интерфейса `IDisposable`
- Валидация в сеттерах свойств
- Использование финализатора
- Кодировка UTF-8 для текстовых операций

## Задание 2: PersonSerializer

### Методы класса
1. `SerializeToJson(Person person)` - сериализация в строку
2. `DeserializeFromJson(string json)` - десериализация из строки
3. `SaveToFile(Person person, string filePath)` - синхронное сохранение в файл
4. `LoadFromFile(string filePath)` - синхронная загрузка из файла
5. `SaveToFileAsync(Person person, string filePath)` - асинхронное сохранение
6. `LoadFromFileAsync(string filePath)` - асинхронная загрузка
7. `SaveListToFile(List<Person> people, string filePath)` - экспорт списка
8. `LoadListFromFile(string filePath)` - импорт списка

### Особенности
- Потокобезопасность при работе с файлами
- Обработка исключений
- Логирование ошибок в файл
- Использование красивого форматирования JSON

## Задание 3: FileResourceManager

### Функциональность
- Управление файловыми ресурсами
- Реализация `IDisposable`
- Работа с `FileStream`, `StreamWriter`, `StreamReader`
- Методы для чтения/записи файлов
- Получение информации о файле

## Задание 4: Тестирование

### Тестовые сценарии
1. Сериализация и десериализация объектов
2. Работа с файлами (сохранение/загрузка)
3. Обработка ошибок
4. Асинхронные операции
5. Работа со списками объектов

## Требования к выполнению
1. Все файловые операции должны иметь обработку исключений
2. Использовать кодировку UTF-8 для текстовых файлов
3. Для JSON использовать красивое форматирование
4. Реализовать логирование ошибок в файл
5. Обеспечить потокобезопасность при работе с файлами

## Запуск тестов
```csharp
TestPersonSerializer.RunTests();